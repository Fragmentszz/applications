(function(){"use strict";self.importScripts("spark-md5.min.js");function c(s,e){return new Promise((t,n)=>{let a=[],r=0;for(;r<s.size;)a.push({chunkFile:s.slice(r,r+e)}),r+=e;t(a)})}async function l(s){new self.SparkMD5.ArrayBuffer;try{self.postMessage({percentage:100,fileHash:12323,fileChunkList:s}),self.close()}catch(e){self.postMessage({name:"error",data:e}),self.close()}}self.addEventListener("message",async s=>{try{const{file:e,chunkSize:t}=s.data,n=await c(e,t);await l(n)}catch(e){console.error("worker监听发生错误:",e)}},!1),self.addEventListener("error",function(s){console.log("Worker触发主线程的error事件：",s),self.close()})})();
